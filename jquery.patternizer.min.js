!function(a){function o(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function p(a,b){!function c(){a&&a.complete&&a.width>0&&a.height>0?(b.img=a,k++,q(b),k==j&&r()):setTimeout(c,10)}()}function q(a){var c=a.span,d=a.svg,f=a.svgText,g=a.svgPattern||null,h=a.svgImage||null,i=a.img;g&&h&&(g.attr("width",i.width).attr("height",i.height),h.attr("width",i.width).attr("height",i.height)),d.attr("style","position:absolute;bottom:0;left:0;z-index:-1"),c.attr("style",e);var j=c.width(),k=c.height(),l=c.css("font-size");d.attr("width",j).attr("height",k),f.attr("font-size",l),b&&d.attr("style","position:absolute;bottom:0.065em;left:0;z-index:-1")}function r(){for(var a=0,b=f.length;b>a;a++)q(f[a])}function s(){return parseFloat(g.css("font-size"))+g.height()+g.width()}function t(){g=a(document.createElementNS(n.xhtml,"span")),g.attr("id",c).attr("style","display:inline;position:absolute;left:-10000px"),g.html(new Array(100).join("&#160;")),a("body").append(g)}function u(){t(),h=s(),function a(){var b=s();h!=b&&(r(),h=b),setTimeout(a,100)}()}function v(){if(j=l.length){var c,g,h,k,o,q,r,s,t,v,w,x,y;l.each(function(j){c=a(this),c.attr("style",d),g=c.text(),c.text(""),h=a(document.createElementNS(n.xhtml,"span")),h.html("<span>"+g+"</span>"),h.attr("style",e+"height:"+c.height()+"px; width:"+c.width()+"px;"),c.append(h),w=h.css("width"),x=h.css("height"),y=h.css("font-size"),k=a(document.createElementNS(n.svg,"svg")),k.attr("version","1.1").attr("baseProfile","full").attr("x","0").attr("y","0").attr("width","0").attr("height","0"),k[0].setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",n.svg),k[0].setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",n.xlink),h.append(k),h.attr("style",e),s=c.data("pattern"),o=a(document.createElementNS(n.svg,"defs")),k.append(o),r=a(document.createElementNS(n.svg,"pattern")),r.attr("id",m+s).attr("x","0").attr("y","0"),r[0].setAttribute("patternUnits","userSpaceOnUse"),o.append(r),t=a(document.createElementNS(n.svg,"image")),t[0].setAttributeNS(n.xlink,"xlink:href",s),t.attr("x","0").attr("y","0"),r.append(t),i[s]=r,q=a(document.createElementNS(n.svg,"text")),q.text(g),q.attr("x","0").attr("y","0").attr("font-size",y),q.attr("dominant-baseline","text-before-edge"),b&&(q.attr("y",y),q[0].setAttribute("textLength",w)),q.attr("fill","url(#"+m+s+")"),k.append(q),f.push({span:h,svg:k,svgText:q,svgPattern:r,svgImage:t,img:null}),v=new Image,v.onload=function(a,b){p(a,b)}(v,f[j]),v.src=s,c.attr("style",e)}),u()}}var g,l,b=window.opera&&"[object Opera]"==window.opera.toString(),c="fontsize-measurer__"+ +new Date,d="position:relative;display:inline;width:auto;",e="color:transparent;display:inline;position:relative;z-index:2;cursor:inherit;white-space:nowrap;vertical-align:baseline;",f=[],h=0,i={},j=0,k=0,m="pattern__",n={xhtml:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},w={init:function(){l=a(this),o()&&v()}};a.fn.patternizer=function(b){return w[b]?w[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.patternizer"),void 0):w.init.apply(this,arguments)}}(jQuery);